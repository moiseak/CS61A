
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS" />
    <meta name="author" content ="Laryn Qi, Charlotte Le, Raymond Tan" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../../assets/js/hl.js"></script>
    <script src="../../assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="../../assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/mono-blue.css">
    <link rel="icon" href="../../assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="../../assets/css/hw.css">


    <title>
Homework 3 | CS 61A Summer 2024
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="../../assets/images/logo.png"/>
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="../../office-hours.html">Weekly Schedule</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                External Websites
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://oh.cs61a.org/">Office Hours Queue</a></li>
                <li><a href="https://pythontutor.com/cp/composingprograms.html">Python Tutor</a></li>
                <li><a href="https://code.cs61a.org/">Online Code Editor</a></li>
                <li><a href="https://www.composingprograms.com/">Textbook</a></li>
                <li><a href="https://edstem.org/us/courses/59836/discussion/">Ed</a></li>
                <li><a href="https://sections.cs61a.org">Sections Tool</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Forms
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://go.cs61a.org/extensions">Request an Extension</a></li>
                <li><a href="https://go.cs61a.org/regrades">Request a Regrade</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://go.cs61a.org/debugging-guide">Debugging Guide</a></li>
                <li><a href="../../articles/studying.html">Studying Guide</a></li>
                <li><a href="../../articles/composition.html">Composition Guide</a></li>
                <li><a href="../../articles/pair-programming.html">Pair Programming Guide</a></li>
                <li><a href="../../resources.html">Past Exams & Websites</a></li>
                <li><a href="../../articles/campus-res/index.html">Department and Campus</a></li>
                <li><a href="../../articles/advice/index.html">Advice from Former Students</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="index.html#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="../../instructor.html">Instructors</a></li>
                <li><a href="../../staff.html">TAs & Tutors</a></li>
                <li><a href="../../contact/index.html">Contact</a></li>
              </ul>
            </li>
            <li><a href="../../articles/about.html">Syllabus</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Homework 3: Tree Recursion, Sequences, Python Lists, Trees

        
        
        <ul class="inline-block list-inline">
          <li><a href="hw03.zip" class="label label-outline">hw03.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<p><em>Due by 11:59pm on Wednesday, July 10</em></p>





<h2>Instructions</h2>

<p>Download <a href="hw03.zip">hw03.zip</a>. Inside the archive, you will find a file called
<a href="hw03.py">hw03.py</a>, along with a copy of the <code>ok</code> autograder.</p>

<p><strong>Submission:</strong> When you are done, submit the assignment by uploading all code files you've edited to Gradescope. You may submit more than once before the deadline; only the
final submission will be scored. Check that you have successfully submitted
your code on Gradescope.  See <a
  href="../../lab/lab00.html#task-c-submitting-the-assignment">Lab 0</a> for more instructions on
submitting assignments.</p>

<p><strong>Using Ok:</strong> If you have any questions about using Ok, please
refer to <a href="../../articles/using-ok.html">this guide.</a>


  <p><strong>Readings:</strong> You might find the following references
  useful:</p>
  <ul>
  <li><a href="http://composingprograms.com/pages/17-recursive-functions.html">Section 1.7</a></li>
  <li><a href="https://www.composingprograms.com/pages/22-data-abstraction.html">Section 2.2</a></li>
  <li><a href="https://www.composingprograms.com/pages/23-sequences.html">Section 2.3</a></li>
  <li><a href="https://www.composingprograms.com/pages/24-mutable-data.html">Section 2.4</a></li>
</ul>
  

<p><strong>Grading:</strong> Homework is graded based on
correctness. Each incorrect problem will decrease the total score by one point.
<strong>This homework is out of 2 points.</strong>




    
<h1 id="required-questions">Required Questions</h1>


<br>

        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Getting Started Videos<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">


<h2 id="getting-started-videos" class="no-toc">Getting Started Videos</h2>


<p>These videos may provide some helpful direction for tackling the coding
problems on this assignment.</p>

<blockquote><p>To see these videos, you should be logged into your berkeley.edu email.</p></blockquote>


            <iframe width="560" height="315" src="https://youtube.com/embed/videoseries?list=PLx38hZJ5RLZd69lK3GQh_OH1u_xmVdBe5"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe><p><a href='https://youtu.be/playlist?list=PLx38hZJ5RLZd69lK3GQh_OH1u_xmVdBe5'> YouTube link </a></p>
</div>

<!-- Spring 2024 Problems -->

<!-- <include topics/recursion/medium/num-eights.md> -->

<!--include topics/recursion/medium/missing-digits.md-->

<!--include topics/recursion/medium/pingpong.md-->

<!-- <include topics/recursion/medium/digit-distance.md> -->

<!-- <include topics/recursion/medium/interleaved-sum.md> -->

<!-- <include topics/recursion/medium/count-coins.md> -->


<h2 id="tree-recursion">Tree Recursion</h2>



<h3 id="q1-pascal-s-triangle">Q1: Pascal's Triangle</h3>


<p>Pascal's triangle gives the coefficients of a binomial expansion; if you expand the expression <code>(a + b) ** n</code>,
all coefficients will be found on the <code>n</code>th row of the triangle, and the coefficient of the <code>i</code>th term will be at the <code>i</code>th column.</p>

<p>Here's a part of the Pascal's trangle:</p>

<pre><code>1
1 1
1 2 1
1 3 3 1
1 4 6 4 1</code></pre>

<p>Every number in Pascal's triangle is defined as the sum of the item
above it and the item above and to the left of it. Rows and columns are
zero-indexed; that is, the first row is row 0 instead of 1
and the first column is column 0 instead of column 1.
For example, the item at row 2, column 1 in Pascal's triangle is 2.</p>

<p>Now, define the procedure <code>pascal(row, column)</code> which takes a row and a column,
and finds the value of the item at that position in Pascal's triangle.
Note that Pascal's triangle is only defined at certain areas;
use <code>0</code> if the item does not exist. For the purposes of this question,
you may also assume that <code>row &gt;= 0</code> and <code>column &gt;= 0</code>.</p>

<blockquote><p><em>Hint</em>: Pascal's Triangle can be visualized as a grid rather than a geometric, three-sided triangle. With this in mind, how does the position of the value you are trying to find relate to the positions of the two numbers that add up to it? At what coordinates of the "grid" do we find out the value and don't need further calculations? Remember that the positions are 0-indexed!</p></blockquote>

<p>Here is a visualization of the grid:</p>

<p><img class="img-responsive center-block" src="assets/pascal_grid.png" alt="Pascal Grid" width="" height=""></p>

<solution>

<pre><code>def pascal(row, column):
    &quot;&quot;&quot;Returns the value of the item in Pascal&#x27;s Triangle
    whose position is specified by row and column.
    &gt;&gt;&gt; pascal(0, 0)    # The top left (the point of the triangle)
    1
    &gt;&gt;&gt; pascal(0, 5)	# Empty entry; outside of Pascal&#x27;s Triangle
    0
    &gt;&gt;&gt; pascal(3, 2)	# Row 3 (1 3 3 1), Column 2
    3
    &gt;&gt;&gt; pascal(4, 2)     # Row 4 (1 4 6 4 1), Column 2
    6
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q pascal<button id="copy-code-python3ok-qpascal" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qpascal").onclick = () => copyCode('python3 ok -q pascal', "copy-code-python3ok-qpascal");
        </script>
        <br/>


<h2 id="sequences-and-mutability">Sequences and Mutability</h2>



<h3 id="q2-insert-items">Q2: Insert Items</h3>


<p>Write a function which takes in a list <code>s</code>, a value <code>before</code>, and a value
<code>after</code>. It inserts <code>after</code> just after each value equal to <code>before</code> in <code>s</code>. It
returns <code>s</code>.</p>

<p><strong>Important:</strong> No new lists should be created or returned.</p>

<blockquote><p><strong>Note:</strong>
If the values passed into <code>before</code> and <code>after</code> are equal, make
sure you're not creating an infinitely long list while iterating through it.
If you find that your code is taking more than a few seconds to run, the
function may be in an infinite loop of inserting new values.</p></blockquote>

<solution>

<pre><code>def insert_items(s, before, after):
    &quot;&quot;&quot;Insert after into s after each occurrence of before and then return s.

    &gt;&gt;&gt; test_s = [1, 5, 8, 5, 2, 3]
    &gt;&gt;&gt; new_s = insert_items(test_s, 5, 7)
    &gt;&gt;&gt; new_s
    [1, 5, 7, 8, 5, 7, 2, 3]
    &gt;&gt;&gt; test_s
    [1, 5, 7, 8, 5, 7, 2, 3]
    &gt;&gt;&gt; new_s is test_s
    True
    &gt;&gt;&gt; double_s = [1, 2, 1, 2, 3, 3]
    &gt;&gt;&gt; double_s = insert_items(double_s, 3, 4)
    &gt;&gt;&gt; double_s
    [1, 2, 1, 2, 3, 4, 3, 4]
    &gt;&gt;&gt; large_s = [1, 4, 8]
    &gt;&gt;&gt; large_s2 = insert_items(large_s, 4, 4)
    &gt;&gt;&gt; large_s2
    [1, 4, 4, 8]
    &gt;&gt;&gt; large_s3 = insert_items(large_s2, 4, 6)
    &gt;&gt;&gt; large_s3
    [1, 4, 6, 4, 6, 8]
    &gt;&gt;&gt; large_s3 is large_s
    True
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q insert_items<button id="copy-code-python3ok-qinsert_items" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qinsert_items").onclick = () => copyCode('python3 ok -q insert_items', "copy-code-python3ok-qinsert_items");
        </script>
        <br/>

<!--  -->


<h2 id="data-abstraction">Data Abstraction</h2>



<h3 id="mobiles">Mobiles</h3>


<p><strong>Acknowledgements</strong></p>

<p>This problem is based on one from Structure and Interpretation of Computer Programs
<a href="https://mitp-content-server.mit.edu/books/content/sectbyfn/books_pres_0/6515/sicp.zip/full-text/book/book-Z-H-15.html#%_sec_2.2.2">Section 2.2.2</a>.</p>

<p><img class="img-responsive center-block" src="assets/mobile-planet.png" alt="Mobile example" width="" height=""></p>

<p>We are making a planetarium mobile. A <a href="https://www.northwestnatureshop.com/wp-content/uploads/2015/04/AMSolarSystem.jpg">mobile</a> is a type of hanging sculpture. A binary mobile consists of two
arms. Each arm is a rod of a certain length, from which hangs either a planet
or another mobile. For example, the below diagram shows the left and right arms of Mobile A,
and what hangs at the ends of each of those arms.</p>

<p><img class="img-responsive center-block" src="assets/mobile-planet-labeled.png" alt="Labeled Mobile example" width="" height=""></p>

<p>We will represent a binary mobile using the data abstractions below.</p>

<ul>
  <li>A <code>mobile</code> must have both a left <code>arm</code> and a right <code>arm</code>.</li>
  <li>An <code>arm</code> has a positive length and must have something hanging at the end, either a <code>mobile</code> or <code>planet</code>.</li>
  <li>A <code>planet</code> has a positive mass, and nothing hanging from it.</li>
</ul>

<p>Below are the various constructors and selectors for the <code>mobile</code>  and <code>arm</code> data abstraction.
They have already been implemented for you, though the code is not shown here.
As with any data abstraction, you should focus on what the function does rather than its specific implementation.
You are free to use any of their constructor and selector functions in the Mobiles coding exercises.</p>

<p><em>Mobile Data Abstraction</em> (<strong>for your reference, no need to do anything here</strong>):</p>

<pre><code>def mobile(left, right):
    &quot;&quot;&quot;
    Construct a mobile from a left arm and a right arm.

    Arguments:
        left: An arm representing the left arm of the mobile.
        right: An arm representing the right arm of the mobile.

    Returns:
        A mobile constructed from the left and right arms.
    &quot;&quot;&quot;
    pass

def is_mobile(m):
    &quot;&quot;&quot;
    Return whether m is a mobile.

    Arguments:
        m: An object to be checked.

    Returns:
        True if m is a mobile, False otherwise.
    &quot;&quot;&quot;
    pass

def left(m):
    &quot;&quot;&quot;
    Select the left arm of a mobile.

    Arguments:
        m: A mobile.

    Returns:
        The left arm of the mobile.
    &quot;&quot;&quot;
    pass

def right(m):
    &quot;&quot;&quot;
    Select the right arm of a mobile.

    Arguments:
        m: A mobile.

    Returns:
        The right arm of the mobile.
    &quot;&quot;&quot;
    pass</code></pre>

<!-- hack -->
<em>Arm Data Abstraction</em> (<strong>for your reference, no need to do anything here</strong>):

<pre><code>def arm(length, mobile_or_planet):
    &quot;&quot;&quot;
    Construct an arm: a length of rod with a mobile or planet at the end.

    Arguments:
        length: The length of the rod.
        mobile_or_planet: A mobile or a planet at the end of the arm.

    Returns:
        An arm constructed from the given length and mobile or planet.
    &quot;&quot;&quot;
    pass

def is_arm(s):
    &quot;&quot;&quot;
    Return whether s is an arm.

    Arguments:
        s: An object to be checked.

    Returns:
        True if s is an arm, False otherwise.
    &quot;&quot;&quot;
    pass

def length(s):
    &quot;&quot;&quot;
    Select the length of an arm.

    Arguments:
        s: An arm.

    Returns:
        The length of the arm.
    &quot;&quot;&quot;
    pass

def end(s):
    &quot;&quot;&quot;
    Select the mobile or planet hanging at the end of an arm.

    Arguments:
        s: An arm.

    Returns:
        The mobile or planet at the end of the arm.
    &quot;&quot;&quot;
    pass</code></pre>


<h3 id="q3-mass">Q3: Mass</h3>


<p>Implement the <code>planet</code> data abstraction by completing the <code>planet</code> constructor
and the <code>mass</code> selector. A planet should be represented using a two-element list
where the first element is the string <code>&#x27;planet&#x27;</code> and the second element is the
planet's mass. The <code>mass</code> function should return the mass of the <code>planet</code> object
that is passed as a parameter.
<!-- hack --></p>

<pre><code>def planet(mass):
    &quot;&quot;&quot;Construct a planet of some mass.&quot;&quot;&quot;
    assert mass &gt; 0
    "*** YOUR CODE HERE ***"

def mass(p):
    &quot;&quot;&quot;Select the mass of a planet.&quot;&quot;&quot;
    assert is_planet(p), &#x27;must call mass on a planet&#x27;
    "*** YOUR CODE HERE ***"

def is_planet(p):
    &quot;&quot;&quot;Whether p is a planet.&quot;&quot;&quot;
    return type(p) == list and len(p) == 2 and p[0] == &#x27;planet&#x27;</code></pre>

<p>The <code>total_mass</code> function demonstrates the use of the mobile, arm,
and planet abstractions. It has been implemented for you. <em>You may use
the <code>total_mass</code> function in the following questions.</em>
<!-- hack --></p>

<pre><code>def examples():
    t = mobile(arm(1, planet(2)),
               arm(2, planet(1)))
    u = mobile(arm(5, planet(1)),
               arm(1, mobile(arm(2, planet(3)),
                             arm(3, planet(2)))))
    v = mobile(arm(4, t), arm(2, u))
    return t, u, v

def total_mass(m):
    &quot;&quot;&quot;Return the total mass of m, a planet or mobile.

    &gt;&gt;&gt; t, u, v = examples()
    &gt;&gt;&gt; total_mass(t)
    3
    &gt;&gt;&gt; total_mass(u)
    6
    &gt;&gt;&gt; total_mass(v)
    9
    &quot;&quot;&quot;
    if is_planet(m):
        return mass(m)
    else:
        assert is_mobile(m), &quot;must get total mass of a mobile or a planet&quot;
        return total_mass(end(left(m))) + total_mass(end(right(m)))</code></pre>

<p>Run the <code>ok</code> tests for <code>total_mass</code> to make sure that your <code>planet</code> and <code>mass</code>
functions are implemented correctly.</p>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q total_mass<button id="copy-code-python3ok-qtotal_mass" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qtotal_mass").onclick = () => copyCode('python3 ok -q total_mass', "copy-code-python3ok-qtotal_mass");
        </script>
        <br/>


<h3 id="q4-balanced">Q4: Balanced</h3>


<p>Implement the <code>balanced</code> function, which returns whether <code>m</code> is a <em>balanced</em>
mobile. A mobile is <em>balanced</em> if <strong>both</strong> of the following conditions are met:</p>

<ol>
  <li>The <em>torque</em> applied by its left arm is equal to the <em>torque</em> applied by its right
  arm. The <em>torque</em> of the left arm is the length of the left rod multiplied by the
  total mass hanging from that rod. Likewise for the right. For example,
  if the left arm has a length of <code>5</code>, and there is a <code>mobile</code> hanging at the end
  of the left arm of total mass <code>10</code>, the torque on the left side of our mobile is <code>50</code>.</li>
  <li>Each of the mobiles hanging at the end of its arms is itself <em>balanced</em>.</li>
</ol>

<p>Planets themselves are balanced, as there is nothing hanging off of them.</p>

<blockquote><p><strong>Reminder:</strong> You may use the <code>total_mass</code> function above. <strong>Don't violate
abstraction barriers.</strong> Instead, use the selector functions that have been
defined.</p></blockquote>

<pre><code>def balanced(m):
    &quot;&quot;&quot;Return whether m is balanced.

    &gt;&gt;&gt; t, u, v = examples()
    &gt;&gt;&gt; balanced(t)
    True
    &gt;&gt;&gt; balanced(v)
    True
    &gt;&gt;&gt; p = mobile(arm(3, t), arm(2, u))
    &gt;&gt;&gt; balanced(p)
    False
    &gt;&gt;&gt; balanced(mobile(arm(1, v), arm(1, p)))
    False
    &gt;&gt;&gt; balanced(mobile(arm(1, p), arm(1, v)))
    False
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; # checking for abstraction barrier violations by banning indexing
    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;balanced&#x27;, [&#x27;Index&#x27;])
    True
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q balanced<button id="copy-code-python3ok-qbalanced" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qbalanced").onclick = () => copyCode('python3 ok -q balanced', "copy-code-python3ok-qbalanced");
        </script>
        <br/>




<h2 id="trees">Trees</h2>



<h3 id="q5-finding-berries">Q5: Finding Berries!</h3>


<p>The squirrels on campus need your help! There are a lot of trees on campus and
the squirrels would like to know which ones contain berries. Define the function
<code>berry_finder</code>, which takes in a tree and returns <code>True</code> if the tree contains a
node with the value <code>&#x27;berry&#x27;</code> and <code>False</code> otherwise.</p>

<blockquote><p><strong>Hint</strong>:
To iterate through each of the branches of a particular tree,
you can consider using a <code>for</code> loop to get each branch.</p></blockquote>

<solution>

<pre><code class="python">def berry_finder(t):
    &quot;&quot;&quot;Returns True if t contains a node with the value &#x27;berry&#x27; and 
    False otherwise.

    &gt;&gt;&gt; scrat = tree(&#x27;berry&#x27;)
    &gt;&gt;&gt; berry_finder(scrat)
    True
    &gt;&gt;&gt; sproul = tree(&#x27;roots&#x27;, [tree(&#x27;branch1&#x27;, [tree(&#x27;leaf&#x27;), tree(&#x27;berry&#x27;)]), tree(&#x27;branch2&#x27;)])
    &gt;&gt;&gt; berry_finder(sproul)
    True
    &gt;&gt;&gt; numbers = tree(1, [tree(2), tree(3, [tree(4), tree(5)]), tree(6, [tree(7)])])
    &gt;&gt;&gt; berry_finder(numbers)
    False
    &gt;&gt;&gt; t = tree(1, [tree(&#x27;berry&#x27;,[tree(&#x27;not berry&#x27;)])])
    &gt;&gt;&gt; berry_finder(t)
    True
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>


</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q berry_finder<button id="copy-code-python3ok-qberry_finder" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qberry_finder").onclick = () => copyCode('python3 ok -q berry_finder', "copy-code-python3ok-qberry_finder");
        </script>
        <br/>


<h3 id="q6-maximum-path-sum">Q6: Maximum Path Sum</h3>


<p>Write a function that takes in a tree and returns the maximum sum of the
values along any <em>root-to-leaf path</em> in the tree.
A <em>root-to-leaf path</em> is a sequence of nodes starting at the root and proceeding
to some leaf of the tree.
You can assume the tree will have positive numbers for its labels.</p>

<solution>

<pre><code>def max_path_sum(t):
    &quot;&quot;&quot;Return the maximum root&#x2d;to&#x2d;leaf path sum of a tree.
    &gt;&gt;&gt; t = tree(1, [tree(5, [tree(1), tree(3)]), tree(10)])
    &gt;&gt;&gt; max_path_sum(t) # 1, 10
    11
    &gt;&gt;&gt; t2 = tree(5, [tree(4, [tree(1), tree(3)]), tree(2, [tree(10), tree(3)])])
    &gt;&gt;&gt; max_path_sum(t2) # 5, 2, 10
    17
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q max_path_sum<button id="copy-code-python3ok-qmax_path_sum" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qmax_path_sum").onclick = () => copyCode('python3 ok -q max_path_sum', "copy-code-python3ok-qmax_path_sum");
        </script>
        <br/>


<h2 id="check-your-score-locally">Check Your Score Locally</h2>

<p>You can locally check your score on each question of this assignment by running</p>

<pre><code>python3 ok &#x2d;&#x2d;score</code></pre>

<p><strong>This does NOT submit the assignment!</strong> When you are satisfied with your score, submit the assignment to Gradescope to receive credit for it.</p>


<h1 id="submit-assignment">Submit Assignment</h1>


<p>Submit this assignment by uploading any files you've edited <strong>to the appropriate Gradescope assignment.</strong> <a href="../../lab/lab00.html#submit-with-gradescope">Lab 00</a> has detailed instructions.</p>


<h1 id="exam-practice">Exam Practice</h1>

<p>Homework assignments will also contain prior exam-level questions for you to take a look at.
 These questions have no submission component; feel free to attempt them if you'd like a challenge!</p>

<ol>
  <li>Fall 2017 MT1 Q4a: <a href="https://inst.eecs.berkeley.edu/~cs61a/fa21/exam/fa17/mt1/61a-fa17-mt1.pdf#page=5">Digital</a></li>
  <li>Summer 2018 MT1 Q5a: <a href="https://inst.eecs.berkeley.edu/~cs61a/su18/assets/pdfs/61a-su18-mt.pdf#page=5">Won't You Be My Neighbor?</a></li>
  <li>Fall 2019 Final Q6b: <a href="https://inst.eecs.berkeley.edu/~cs61a/sp21/exam/fa19/final/61a-fa19-final.pdf#page=6">Palindromes</a></li>
</ol>


<h1 id="just-for-fun-questions">Just For Fun Questions</h1>


<p>The questions below are out of scope for 61A. You can try them if you want an extra challenge, but they're just puzzles that are not required for the course. Almost all students will skip them, and that's fine. We will <strong>not</strong> be prioritizing support for these questions on Ed or during Office Hours.</p>


<h3 id="q7-towers-of-hanoi">Q7: Towers of Hanoi</h3>


<!--

<blockquote><p>This problem was covered in lecture, but feel free to
use this question to test your understanding and re-implement the problem.
--></p></blockquote>

A classic puzzle called the Towers of Hanoi is a game that consists of three
rods, and a number of disks of different sizes which can slide onto any rod.
The puzzle starts with <code>n</code> disks in a neat stack in ascending order of size on
a <code>start</code> rod, the smallest at the top, forming a conical shape.

<img class="img-responsive center-block" src="https://upload.wikimedia.org/wikipedia/commons/0/07/Tower_of_Hanoi.jpeg" alt="Towers of Hanoi" width="" height="">

The objective of the puzzle is to move the entire stack to an <code>end</code> rod,
obeying the following rules:

<ul>
  <li>Only one disk may be moved at a time.</li>
  <li>Each move consists of taking the top (smallest) disk from one of the rods and
  sliding it onto another rod, on top of the other disks that may already be
  present on that rod.</li>
  <li>No disk may be placed on top of a smaller disk.</li>
</ul>

Complete the definition of <code>move_stack</code>, which prints out the steps required to
move <code>n</code> disks from the <code>start</code> rod to the <code>end</code> rod without violating the
rules. The provided <code>print_move</code> function will print out the step to move a
single disk from the given <code>origin</code> to the given <code>destination</code>.

<blockquote><p><strong>Hint:</strong>
Draw out a few games with various <code>n</code> on a piece of paper and try to
find a pattern of disk movements that applies to any <code>n</code>. In your solution,
take the recursive leap of faith whenever you need to move any amount of
disks less than <code>n</code> from one rod to another. If you need more help, see
the following hints.</p></blockquote>


        <button id='toggle-2' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint 1<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">

<p>See the following animation of the Towers of Hanoi, found on
<a href="https://commons.wikimedia.org/wiki/File:Iterative_algorithm_solving_a_6_disks_Tower_of_Hanoi.gif">Wikimedia</a>
by user <a href="https://commons.wikimedia.org/wiki/User:Trixx">Trixx</a>.</p>

<img class="img-responsive center-block" src="https://upload.wikimedia.org/wikipedia/commons/8/8d/Iterative_algorithm_solving_a_6_disks_Tower_of_Hanoi.gif"/>
</div>
<br>

        <button id='toggle-3' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint 2<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-3">

<p>The strategy used in Towers of Hanoi is to move all but the bottom disc to the
second peg, then moving the bottom disc to the third peg, then moving all but
the second disc from the second to the third peg.</p>

</div>
<br>

        <button id='toggle-4' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint 3<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-4">

<p>One thing you don't need to worry about is collecting all the steps.
<code>print</code> effectively "collects" all the results in the terminal as long as you
make sure that the moves are printed in order.</p>

</div>

<solution>

<pre><code>def print_move(origin, destination):
    &quot;&quot;&quot;Print instructions to move a disk.&quot;&quot;&quot;
    print(&quot;Move the top disk from rod&quot;, origin, &quot;to rod&quot;, destination)

def move_stack(n, start, end):
    &quot;&quot;&quot;Print the moves required to move n disks on the start pole to the end
    pole without violating the rules of Towers of Hanoi.

    n &#x2d;&#x2d; number of disks
    start &#x2d;&#x2d; a pole position, either 1, 2, or 3
    end &#x2d;&#x2d; a pole position, either 1, 2, or 3

    There are exactly three poles, and start and end must be different. Assume
    that the start pole has at least n disks of increasing size, and the end
    pole is either empty or has a top disk larger than the top n start disks.

    &gt;&gt;&gt; move_stack(1, 1, 3)
    Move the top disk from rod 1 to rod 3
    &gt;&gt;&gt; move_stack(2, 1, 3)
    Move the top disk from rod 1 to rod 2
    Move the top disk from rod 1 to rod 3
    Move the top disk from rod 2 to rod 3
    &gt;&gt;&gt; move_stack(3, 1, 3)
    Move the top disk from rod 1 to rod 3
    Move the top disk from rod 1 to rod 2
    Move the top disk from rod 3 to rod 2
    Move the top disk from rod 1 to rod 3
    Move the top disk from rod 2 to rod 1
    Move the top disk from rod 2 to rod 3
    Move the top disk from rod 1 to rod 3
    &quot;&quot;&quot;
    assert 1 &lt;= start &lt;= 3 and 1 &lt;= end &lt;= 3 and start != end, &quot;Bad start/end&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q move_stack<button id="copy-code-python3ok-qmove_stack" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qmove_stack").onclick = () => copyCode('python3 ok -q move_stack', "copy-code-python3ok-qmove_stack");
        </script>
        <br/>




<h3 id="q8-anonymous-factorial">Q8: Anonymous Factorial</h3>


<blockquote><p>This question demonstrates that it's possible to write recursive functions
without assigning them a name in the global frame.</p></blockquote>

<p>The recursive factorial function can be written as a single expression
by using a
<a href="http://docs.python.org/py3k/reference/expressions.html#conditional-expressions">conditional expression</a>.</p>

<pre><code>&gt;&gt;&gt; fact = lambda n: 1 if n == 1 else mul(n, fact(sub(n, 1)))
&gt;&gt;&gt; fact(5)
120</code></pre>

<p>However, this implementation relies on the fact (no pun intended) that
<code>fact</code> has a name, to which we refer in the body of <code>fact</code>. To write a
recursive function, we have always given it a name using a <code>def</code> or
assignment statement so that we can refer to the function within its
own body. In this question, your job is to define <code>fact</code> recursively
without giving it a name!</p>

<p>Write an expression that computes <code>n</code> factorial using only call
expressions, conditional expressions, and <code>lambda</code> expressions (no
assignment or <code>def</code> statements).</p>

<blockquote><p><strong>Note:</strong>
You are not allowed to use <code>make_anonymous_factorial</code> in your return
expression.</p></blockquote>

<p>The <code>sub</code> and <code>mul</code> functions from the <code>operator</code> module are the only
built-in functions required to solve this problem.</p>

<solution>

<pre><code>from operator import sub, mul

def make_anonymous_factorial():
    &quot;&quot;&quot;Return the value of an expression that computes factorial.

    &gt;&gt;&gt; make_anonymous_factorial()(5)
    120
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; # ban any assignments or recursion
    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;make_anonymous_factorial&#x27;,
    ...     [&#x27;Assign&#x27;, &#x27;AnnAssign&#x27;, &#x27;AugAssign&#x27;, &#x27;NamedExpr&#x27;, &#x27;FunctionDef&#x27;, &#x27;Recursion&#x27;])
    True
    &quot;&quot;&quot;
    return &#x27;YOUR_EXPRESSION_HERE&#x27;
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q make_anonymous_factorial<button id="copy-code-python3ok-qmake_anonymous_factorial" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qmake_anonymous_factorial").onclick = () => copyCode('python3 ok -q make_anonymous_factorial', "copy-code-python3ok-qmake_anonymous_factorial");
        </script>
        <br/>

<script>
    $('.alwaystoggle').css('display', 'inline-block');
    $('.alwaystoggle').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
</script>


  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="index.html#required-questions">Required Questions</a></li>
  <ul>
    <li><a href="index.html#tree-recursion">Tree Recursion</a></li>
    <ul>
      <li><a href="index.html#q1-pascal-s-triangle">Q1: Pascal's Triangle</a></li>
    </ul>
    <li><a href="index.html#sequences-and-mutability">Sequences and Mutability</a></li>
    <ul>
      <li><a href="index.html#q2-insert-items">Q2: Insert Items</a></li>
    </ul>
    <li><a href="index.html#data-abstraction">Data Abstraction</a></li>
    <ul>
      <li><a href="index.html#mobiles">Mobiles</a></li>
      <li><a href="index.html#q3-mass">Q3: Mass</a></li>
      <li><a href="index.html#q4-balanced">Q4: Balanced</a></li>
    </ul>
    <li><a href="index.html#trees">Trees</a></li>
    <ul>
      <li><a href="index.html#q5-finding-berries">Q5: Finding Berries!</a></li>
      <li><a href="index.html#q6-maximum-path-sum">Q6: Maximum Path Sum</a></li>
    </ul>
    <li><a href="index.html#check-your-score-locally">Check Your Score Locally</a></li>
  </ul>
  <li><a href="index.html#submit-assignment">Submit Assignment</a></li>
  <li><a href="index.html#exam-practice">Exam Practice</a></li>
  <li><a href="index.html#just-for-fun-questions">Just For Fun Questions</a></li>
  <ul>
    <li><a href="index.html#q7-towers-of-hanoi">Q7: Towers of Hanoi</a></li>
    <li><a href="index.html#q8-anonymous-factorial">Q8: Anonymous Factorial</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <!-- <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/weekly">Weekly Schedule</a></li>
            <li><a href="/office-hours">Office Hours</a></li>
            <li><a href="/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/studying">Studying Guide</a></li>
            <li><a href="/articles/debugging">Debugging Guide</a></li>
            <li><a href="/articles/composition">Composition Guide</a></li>
            <li><a href="/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/about#assignments">Assignments</a></li>
            <li><a href="/articles/about#exams">Exams</a></li>
            <li><a href="/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer> -->

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="../../assets/js/network_storage.js"></script>
    <script src="../../assets/js/storable.js"></script>
    <script src="../../assets/js/editor.js"></script>
    <script src="../../assets/js/copy-button.js"></script>
    <script src="../../assets/js/env-diagram.js"></script>
    
<!-- <script src="/assets/js/sketchy.js"></script> -->
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>